<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CLI Monitor - Neural Network / Brain Scan</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://api.fontshare.com/v2/css?f[]=mona-sans@400,500,600,700&display=swap" rel="stylesheet">

  <style>
    /* ========================================
       CSS Reset
       ======================================== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { line-height: 1.5; -webkit-font-smoothing: antialiased; }
    ul, ol { list-style: none; }
    img, svg { display: block; max-width: 100%; }
    button { cursor: pointer; border: none; background: none; font: inherit; }
    a { text-decoration: none; color: inherit; }

    /* ========================================
       Design Tokens
       ======================================== */
    :root {
      --bg-canvas: #0d1117;
      --bg-default: #161b22;
      --bg-subtle: #1c2128;
      --bg-muted: #21262d;
      --bg-emphasis: #30363d;
      --border-default: #30363d;
      --border-subtle: rgba(240, 246, 252, 0.1);
      --fg-default: #e6edf3;
      --fg-muted: #8b949e;
      --fg-subtle: #6e7681;
      --accent-fg: #58a6ff;
      --accent-muted: rgba(56, 139, 253, 0.15);
      --success-fg: #3fb950;
      --success-muted: rgba(46, 160, 67, 0.15);
      --danger-fg: #f85149;
      --danger-muted: rgba(248, 81, 73, 0.15);
      --attention-fg: #d29922;
      --attention-muted: rgba(210, 153, 34, 0.15);
      --done-fg: #a371f7;
      --done-muted: rgba(163, 113, 247, 0.15);
      --secondary-fg: #f778ba;
      --secondary-muted: rgba(247, 120, 186, 0.15);
      --radius: 6px;
      --radius-sm: 4px;
      --radius-lg: 12px;
      --font-sans: 'Mona Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
      --font-mono: 'Fira Code', ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      --tracking-tight: -0.02em;
      --tracking-wide: 0.02em;
      --space-1: 4px; --space-2: 8px; --space-3: 12px; --space-4: 16px;
      --space-5: 20px; --space-6: 24px; --space-8: 32px;
      --duration-fast: 150ms; --duration-normal: 200ms; --duration-slow: 300ms;
      --ease-out: cubic-bezier(0.25, 1, 0.5, 1);
      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
      --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.5);
    }

    body {
      font-family: var(--font-sans);
      font-size: 14px;
      color: var(--fg-default);
      background-color: var(--bg-canvas);
      min-height: 100vh;
      display: grid;
      grid-template-columns: 240px 1fr;
      overflow: hidden;
    }

    /* ========================================
       Animations
       ======================================== */
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
    @keyframes breathe { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
    @keyframes logoGlow { 0%, 100% { opacity: 0.5; transform: scale(0.9); } 50% { opacity: 1; transform: scale(1.1); } }
    @keyframes nodePulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
    @keyframes corePulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

    @keyframes neuronFire {
      0% { box-shadow: 0 0 8px 2px currentColor; transform: scale(1); }
      25% { box-shadow: 0 0 25px 8px currentColor; transform: scale(1.15); }
      50% { box-shadow: 0 0 40px 12px currentColor; transform: scale(1.2); }
      75% { box-shadow: 0 0 25px 8px currentColor; transform: scale(1.1); }
      100% { box-shadow: 0 0 8px 2px currentColor; transform: scale(1); }
    }

    @keyframes neuronIdle {
      0%, 100% { box-shadow: 0 0 4px 1px currentColor; opacity: 0.4; }
      50% { box-shadow: 0 0 6px 2px currentColor; opacity: 0.55; }
    }

    @keyframes neuronWaiting {
      0%, 100% { box-shadow: 0 0 6px 2px currentColor; opacity: 0.5; }
      50% { box-shadow: 0 0 18px 6px currentColor; opacity: 0.85; }
    }

    @keyframes neuronWorking {
      0% { box-shadow: 0 0 10px 3px currentColor; }
      30% { box-shadow: 0 0 30px 10px currentColor; }
      60% { box-shadow: 0 0 15px 5px currentColor; }
      100% { box-shadow: 0 0 10px 3px currentColor; }
    }

    @keyframes synapsePulse {
      0% { stroke-dashoffset: 40; opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { stroke-dashoffset: -40; opacity: 0; }
    }

    @keyframes synapseTravel {
      0% { offset-distance: 0%; opacity: 0; }
      5% { opacity: 1; }
      95% { opacity: 1; }
      100% { offset-distance: 100%; opacity: 0; }
    }

    @keyframes eegWave1 {
      0% { d: path("M0,25 Q15,5 30,25 Q45,45 60,25 Q75,8 90,25 Q105,42 120,25 Q135,10 150,25 Q165,40 180,25 Q195,12 210,25 Q225,38 240,25 Q255,14 270,25 Q285,36 300,25"); }
      25% { d: path("M0,25 Q15,10 30,25 Q45,40 60,25 Q75,3 90,25 Q105,47 120,25 Q135,6 150,25 Q165,44 180,25 Q195,8 210,25 Q225,42 240,25 Q255,10 270,25 Q285,40 300,25"); }
      50% { d: path("M0,25 Q15,15 30,25 Q45,35 60,25 Q75,12 90,25 Q105,38 120,25 Q135,15 150,25 Q165,35 180,25 Q195,18 210,25 Q225,32 240,25 Q255,16 270,25 Q285,34 300,25"); }
      75% { d: path("M0,25 Q15,8 30,25 Q45,42 60,25 Q75,6 90,25 Q105,44 120,25 Q135,8 150,25 Q165,42 180,25 Q195,10 210,25 Q225,40 240,25 Q255,12 270,25 Q285,38 300,25"); }
      100% { d: path("M0,25 Q15,5 30,25 Q45,45 60,25 Q75,8 90,25 Q105,42 120,25 Q135,10 150,25 Q165,40 180,25 Q195,12 210,25 Q225,38 240,25 Q255,14 270,25 Q285,36 300,25"); }
    }

    @keyframes eegWave2 {
      0% { d: path("M0,25 Q15,18 30,25 Q45,32 60,25 Q75,20 90,25 Q105,30 120,25 Q135,22 150,25 Q165,28 180,25 Q195,23 210,25 Q225,27 240,25 Q255,22 270,25 Q285,28 300,25"); }
      50% { d: path("M0,25 Q15,22 30,25 Q45,28 60,25 Q75,24 90,25 Q105,26 120,25 Q135,24 150,25 Q165,26 180,25 Q195,24 210,25 Q225,26 240,25 Q255,24 270,25 Q285,26 300,25"); }
      100% { d: path("M0,25 Q15,18 30,25 Q45,32 60,25 Q75,20 90,25 Q105,30 120,25 Q135,22 150,25 Q165,28 180,25 Q195,23 210,25 Q225,27 240,25 Q255,22 270,25 Q285,28 300,25"); }
    }

    @keyframes eegWaveWaiting {
      0% { d: path("M0,25 Q15,15 30,25 Q45,35 60,25 Q75,17 90,25 Q105,33 120,25 Q135,18 150,25 Q165,32 180,25 Q195,19 210,25 Q225,31 240,25 Q255,18 270,25 Q285,32 300,25"); }
      50% { d: path("M0,25 Q15,19 30,25 Q45,31 60,25 Q75,20 90,25 Q105,30 120,25 Q135,21 150,25 Q165,29 180,25 Q195,21 210,25 Q225,29 240,25 Q255,20 270,25 Q285,30 300,25"); }
      100% { d: path("M0,25 Q15,15 30,25 Q45,35 60,25 Q75,17 90,25 Q105,33 120,25 Q135,18 150,25 Q165,32 180,25 Q195,19 210,25 Q225,31 240,25 Q255,18 270,25 Q285,32 300,25"); }
    }

    @keyframes ripple {
      0% { r: 4; opacity: 0.8; }
      100% { r: 40; opacity: 0; }
    }

    @keyframes vitalPulse {
      0%, 100% { color: var(--fg-default); }
      50% { color: var(--success-fg); }
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      10% { transform: scale(1.15); }
      20% { transform: scale(1); }
      30% { transform: scale(1.1); }
      40% { transform: scale(1); }
    }

    @keyframes floatParticle {
      0% { transform: translate(0, 0) scale(1); opacity: 0.3; }
      50% { transform: translate(var(--dx), var(--dy)) scale(1.5); opacity: 0.6; }
      100% { transform: translate(0, 0) scale(1); opacity: 0.3; }
    }

    @keyframes thoughtFade {
      from { opacity: 0; transform: translateY(6px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ========================================
       Sidebar
       ======================================== */
    .sidebar {
      background-color: var(--bg-default);
      border-right: 1px solid var(--border-default);
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow-y: auto;
    }

    .sidebar-header {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      padding: var(--space-4);
      border-bottom: 1px solid var(--border-default);
    }

    .logo {
      width: 44px; height: 44px;
      position: relative;
      display: flex; align-items: center; justify-content: center;
      border-radius: 12px;
      background: radial-gradient(ellipse at 30% 30%, rgba(88, 166, 255, 0.08) 0%, transparent 50%), linear-gradient(165deg, #12161c 0%, #0a0d11 100%);
      box-shadow: 0 1px 0 0 rgba(255,255,255,0.04) inset, 0 -1px 0 0 rgba(0,0,0,0.3) inset, 0 4px 16px -2px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255,255,255,0.06);
      overflow: hidden;
    }
    .logo::before {
      content: '';
      position: absolute; inset: 0; border-radius: 12px;
      background: radial-gradient(circle at 50% 50%, rgba(163, 113, 247, 0.15) 0%, transparent 60%);
      animation: logoGlow 4s ease-in-out infinite;
    }
    .logo-icon { position: relative; z-index: 1; width: 28px; height: 28px; filter: drop-shadow(0 0 8px rgba(163, 113, 247, 0.4)); }
    .logo-node { animation: nodePulse 2s ease-in-out infinite; }
    .logo-node-1 { animation-delay: 0s; } .logo-node-2 { animation-delay: 0.4s; }
    .logo-node-3 { animation-delay: 0.8s; } .logo-node-4 { animation-delay: 1.2s; }
    .logo-node-5 { animation-delay: 1.6s; }
    .logo-core { animation: corePulse 3s ease-in-out infinite; }

    .sidebar-title { font-size: 16px; font-weight: 600; color: var(--fg-default); letter-spacing: var(--tracking-tight); }

    .project-switcher {
      display: flex; align-items: center; gap: var(--space-2);
      padding: var(--space-3); margin: var(--space-3);
      background-color: var(--bg-subtle); border: 1px solid var(--border-default);
      border-radius: var(--radius); cursor: pointer;
      transition: border-color var(--duration-fast) var(--ease-out);
    }
    .project-switcher:hover { border-color: var(--fg-subtle); }
    .project-avatar {
      width: 32px; height: 32px;
      background: linear-gradient(135deg, var(--accent-fg), var(--done-fg));
      border-radius: var(--radius);
      display: flex; align-items: center; justify-content: center;
      font-size: 12px; font-weight: 600; color: #fff;
    }
    .project-info { flex: 1; display: flex; flex-direction: column; gap: 2px; min-width: 0; }
    .project-name { font-size: 14px; font-weight: 500; color: var(--fg-default); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .project-path-text { font-size: 12px; font-family: var(--font-mono); color: var(--fg-subtle); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .project-switcher kbd { padding: 2px 6px; background-color: var(--bg-muted); border: 1px solid var(--border-default); border-radius: var(--radius-sm); font-size: 12px; color: var(--fg-muted); }

    .sidebar-nav { flex: 1; padding: var(--space-3); overflow-y: auto; }
    .nav-section { margin-bottom: var(--space-4); }
    .nav-section:last-child { margin-bottom: 0; }
    .nav-section-title { display: block; padding: 0 var(--space-2); margin-bottom: var(--space-2); font-size: 12px; font-weight: 600; color: var(--fg-muted); text-transform: uppercase; letter-spacing: var(--tracking-wide); }
    .nav-item { display: flex; align-items: center; gap: var(--space-2); padding: var(--space-2); margin-bottom: 2px; font-size: 14px; font-weight: 500; color: var(--fg-muted); border-radius: var(--radius); transition: all var(--duration-fast) var(--ease-out); cursor: pointer; }
    .nav-item:hover { background-color: var(--bg-subtle); color: var(--fg-default); }
    .nav-item.active { background-color: var(--accent-muted); color: var(--accent-fg); }
    .nav-item .icon { width: 16px; height: 16px; flex-shrink: 0; }
    .nav-badge { margin-left: auto; padding: 2px 6px; font-size: 12px; font-weight: 500; border-radius: 10px; min-width: 20px; text-align: center; }
    .nav-badge.active { background-color: var(--success-muted); color: var(--success-fg); }
    .nav-badge.default { background-color: var(--bg-emphasis); color: var(--fg-muted); }

    .sidebar-footer { padding: var(--space-3); border-top: 1px solid var(--border-default); }
    .user-menu { display: flex; align-items: center; gap: var(--space-2); padding: var(--space-2); border-radius: var(--radius); cursor: pointer; transition: background-color var(--duration-fast) var(--ease-out); }
    .user-menu:hover { background-color: var(--bg-subtle); }
    .user-avatar { width: 32px; height: 32px; background: linear-gradient(135deg, var(--success-fg), var(--accent-fg)); border-radius: var(--radius); display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600; color: #fff; }
    .user-name { font-size: 14px; font-weight: 500; color: var(--fg-default); }

    /* ========================================
       Main Layout
       ======================================== */
    .app-layout { display: flex; flex-direction: column; height: 100vh; overflow: hidden; }

    .header {
      display: flex; align-items: center; justify-content: space-between;
      padding: var(--space-3) var(--space-6);
      background-color: var(--bg-default); border-bottom: 1px solid var(--border-default);
      flex-shrink: 0;
    }
    .header-left { display: flex; align-items: center; gap: var(--space-3); }
    .header-title { display: flex; align-items: center; gap: var(--space-3); }
    .header-title h1 { font-size: 18px; font-weight: 600; }
    .header-controls { display: flex; align-items: center; gap: var(--space-3); }

    .live-indicator {
      display: flex; align-items: center; gap: var(--space-2);
      padding: var(--space-1) var(--space-3);
      background-color: var(--success-muted);
      border-radius: var(--radius-sm);
      font-size: 12px; font-weight: 600; color: var(--success-fg);
    }
    .live-dot {
      width: 8px; height: 8px; border-radius: 50%;
      background-color: var(--success-fg);
      animation: pulse 2s ease-in-out infinite;
    }

    .view-toggle {
      display: flex; align-items: center; gap: 2px;
      padding: 2px;
      background-color: var(--bg-subtle);
      border: 1px solid var(--border-default);
      border-radius: var(--radius);
    }
    .view-btn {
      padding: var(--space-1) var(--space-3);
      font-size: 12px; font-weight: 500;
      color: var(--fg-muted);
      border-radius: var(--radius-sm);
      transition: all var(--duration-fast) var(--ease-out);
    }
    .view-btn.active {
      background-color: var(--bg-emphasis);
      color: var(--fg-default);
    }

    /* ========================================
       EEG Waveform Strip
       ======================================== */
    .eeg-strip {
      flex-shrink: 0;
      background-color: var(--bg-default);
      border-bottom: 1px solid var(--border-default);
      padding: var(--space-2) var(--space-6);
      display: flex;
      align-items: center;
      gap: var(--space-4);
      height: 80px;
      overflow: hidden;
    }

    .eeg-label {
      font-size: 10px;
      font-weight: 600;
      color: var(--fg-subtle);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
      writing-mode: vertical-lr;
      transform: rotate(180deg);
      white-space: nowrap;
    }

    .eeg-channels {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 2px;
      height: 100%;
    }

    .eeg-channel {
      flex: 1;
      display: flex;
      align-items: center;
      gap: var(--space-2);
      min-height: 0;
    }

    .eeg-channel-label {
      font-size: 9px;
      font-family: var(--font-mono);
      font-weight: 500;
      width: 60px;
      flex-shrink: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .eeg-channel-wave {
      flex: 1;
      height: 100%;
      overflow: hidden;
    }

    .eeg-channel-wave svg {
      width: 100%;
      height: 100%;
    }

    .eeg-wave-path {
      fill: none;
      stroke-width: 1.5;
      stroke-linecap: round;
    }

    .eeg-wave-working {
      stroke: var(--success-fg);
      animation: eegWave1 1.5s ease-in-out infinite;
      filter: drop-shadow(0 0 3px rgba(63, 185, 80, 0.5));
    }

    .eeg-wave-waiting {
      stroke: var(--attention-fg);
      animation: eegWaveWaiting 3s ease-in-out infinite;
      filter: drop-shadow(0 0 2px rgba(210, 153, 34, 0.4));
    }

    .eeg-wave-idle {
      stroke: var(--fg-subtle);
      animation: eegWave2 6s ease-in-out infinite;
      opacity: 0.5;
    }

    .eeg-stats {
      display: flex;
      flex-direction: column;
      gap: 2px;
      flex-shrink: 0;
      padding-left: var(--space-3);
      border-left: 1px solid var(--border-default);
    }

    .eeg-stat {
      font-size: 9px;
      font-family: var(--font-mono);
      color: var(--fg-subtle);
    }
    .eeg-stat-value {
      color: var(--accent-fg);
      font-weight: 600;
    }

    /* ========================================
       Main Content Area
       ======================================== */
    .main-content {
      flex: 1;
      display: grid;
      grid-template-columns: 1fr 300px;
      min-height: 0;
      overflow: hidden;
    }

    /* ========================================
       Neural Viewport
       ======================================== */
    .neural-viewport {
      position: relative;
      overflow: hidden;
      background:
        radial-gradient(ellipse at 30% 40%, rgba(88, 166, 255, 0.03) 0%, transparent 50%),
        radial-gradient(ellipse at 70% 60%, rgba(163, 113, 247, 0.03) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 50%, rgba(247, 120, 186, 0.02) 0%, transparent 60%),
        var(--bg-canvas);
    }

    /* Background grid */
    .neural-viewport::before {
      content: '';
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(circle at 1px 1px, rgba(88, 166, 255, 0.06) 1px, transparent 1px);
      background-size: 30px 30px;
      pointer-events: none;
    }

    .neural-svg {
      width: 100%;
      height: 100%;
      position: absolute;
      inset: 0;
    }

    /* Cortex region labels */
    .cortex-region {
      position: absolute;
      padding: var(--space-2) var(--space-3);
      border: 1px dashed;
      border-radius: var(--radius-lg);
      pointer-events: none;
    }

    .cortex-label {
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
      font-family: var(--font-mono);
    }

    .cortex-sublabel {
      font-size: 9px;
      color: var(--fg-subtle);
      font-family: var(--font-mono);
      margin-top: 2px;
    }

    .cortex-region.project-a {
      top: 8%;
      left: 5%;
      width: 42%;
      height: 50%;
      border-color: rgba(88, 166, 255, 0.15);
      background: radial-gradient(ellipse at center, rgba(88, 166, 255, 0.02), transparent 70%);
    }
    .cortex-region.project-a .cortex-label { color: var(--accent-fg); }

    .cortex-region.project-b {
      top: 12%;
      right: 5%;
      width: 38%;
      height: 42%;
      border-color: rgba(163, 113, 247, 0.15);
      background: radial-gradient(ellipse at center, rgba(163, 113, 247, 0.02), transparent 70%);
    }
    .cortex-region.project-b .cortex-label { color: var(--done-fg); }

    .cortex-region.project-c {
      bottom: 8%;
      left: 20%;
      width: 45%;
      height: 38%;
      border-color: rgba(247, 120, 186, 0.15);
      background: radial-gradient(ellipse at center, rgba(247, 120, 186, 0.02), transparent 70%);
    }
    .cortex-region.project-c .cortex-label { color: var(--secondary-fg); }

    /* Neuron nodes */
    .neuron {
      position: absolute;
      width: 64px;
      height: 64px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.2s ease;
      z-index: 10;
    }

    .neuron:hover { transform: scale(1.15); }

    .neuron-core {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      font-family: var(--font-mono);
      color: #fff;
      position: relative;
      z-index: 2;
    }

    .neuron-ring {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      border: 2px solid currentColor;
      opacity: 0.3;
    }

    .neuron-ring-outer {
      position: absolute;
      inset: -8px;
      border-radius: 50%;
      border: 1px solid currentColor;
      opacity: 0.15;
    }

    .neuron-label {
      position: absolute;
      bottom: -22px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 10px;
      font-family: var(--font-mono);
      font-weight: 500;
      white-space: nowrap;
      z-index: 3;
    }

    .neuron-status {
      position: absolute;
      top: -6px;
      right: -6px;
      font-size: 8px;
      font-weight: 600;
      padding: 1px 5px;
      border-radius: 8px;
      text-transform: uppercase;
      z-index: 3;
      letter-spacing: 0.03em;
    }

    /* Working neuron */
    .neuron.working {
      color: var(--success-fg);
      animation: neuronWorking 1.8s ease-in-out infinite;
    }
    .neuron.working .neuron-core {
      background: radial-gradient(circle at 35% 35%, #5ae07a, #2d8a42);
      box-shadow: 0 0 20px rgba(63, 185, 80, 0.5);
    }
    .neuron.working .neuron-label { color: var(--success-fg); }
    .neuron.working .neuron-status {
      background-color: var(--success-fg);
      color: #fff;
      box-shadow: 0 0 8px rgba(63, 185, 80, 0.4);
    }

    /* Waiting neuron */
    .neuron.waiting {
      color: var(--attention-fg);
      animation: neuronWaiting 3s ease-in-out infinite;
    }
    .neuron.waiting .neuron-core {
      background: radial-gradient(circle at 35% 35%, #e8b84a, #a67a1a);
      box-shadow: 0 0 15px rgba(210, 153, 34, 0.4);
    }
    .neuron.waiting .neuron-label { color: var(--attention-fg); }
    .neuron.waiting .neuron-status {
      background-color: var(--attention-fg);
      color: #fff;
      box-shadow: 0 0 6px rgba(210, 153, 34, 0.4);
    }

    /* Idle neuron */
    .neuron.idle {
      color: var(--fg-subtle);
      animation: neuronIdle 5s ease-in-out infinite;
    }
    .neuron.idle .neuron-core {
      background: radial-gradient(circle at 35% 35%, #5a6370, #3a4048);
      box-shadow: 0 0 6px rgba(110, 118, 129, 0.2);
    }
    .neuron.idle .neuron-label { color: var(--fg-subtle); }
    .neuron.idle .neuron-status {
      background-color: var(--bg-emphasis);
      color: var(--fg-muted);
    }

    /* Selected neuron highlight */
    .neuron.selected .neuron-ring { opacity: 0.7; }
    .neuron.selected .neuron-ring-outer { opacity: 0.4; }

    /* Synapse connection lines */
    .synapse-line {
      stroke: var(--fg-subtle);
      stroke-width: 1;
      opacity: 0.15;
      fill: none;
    }

    .synapse-pulse-line {
      stroke-width: 2;
      stroke-dasharray: 6 14;
      fill: none;
    }

    .synapse-pulse-green {
      stroke: var(--success-fg);
      animation: synapsePulse 1.2s ease-in-out infinite;
      filter: drop-shadow(0 0 4px rgba(63, 185, 80, 0.6));
    }

    .synapse-pulse-amber {
      stroke: var(--attention-fg);
      animation: synapsePulse 2.5s ease-in-out infinite;
      filter: drop-shadow(0 0 3px rgba(210, 153, 34, 0.5));
    }

    .synapse-pulse-dim {
      stroke: var(--fg-subtle);
      stroke-dasharray: 4 20;
      animation: synapsePulse 5s ease-in-out infinite;
      opacity: 0.3;
    }

    /* Firing ripple */
    .fire-ripple {
      fill: none;
      stroke-width: 2;
    }
    .fire-ripple.green {
      stroke: var(--success-fg);
      animation: ripple 1.5s ease-out infinite;
    }
    .fire-ripple.green-delayed {
      stroke: var(--success-fg);
      animation: ripple 1.5s ease-out infinite 0.5s;
    }
    .fire-ripple.amber {
      stroke: var(--attention-fg);
      animation: ripple 3s ease-out infinite;
    }

    /* Floating particles */
    .neural-particle {
      position: absolute;
      width: 3px;
      height: 3px;
      border-radius: 50%;
      pointer-events: none;
    }

    /* ========================================
       Right Panel (Thoughts + Vitals)
       ======================================== */
    .right-panel {
      background-color: var(--bg-default);
      border-left: 1px solid var(--border-default);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .panel-section {
      padding: var(--space-4);
      border-bottom: 1px solid var(--border-default);
    }

    .panel-section-title {
      font-size: 11px;
      font-weight: 600;
      color: var(--fg-muted);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
      margin-bottom: var(--space-3);
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }

    .panel-section-title svg {
      width: 14px;
      height: 14px;
    }

    /* Vitals panel */
    .vitals-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-3);
    }

    .vital-card {
      background-color: var(--bg-subtle);
      border: 1px solid var(--border-default);
      border-radius: var(--radius);
      padding: var(--space-3);
      display: flex;
      flex-direction: column;
      gap: var(--space-1);
    }

    .vital-icon {
      font-size: 16px;
      margin-bottom: 2px;
    }

    .vital-label {
      font-size: 9px;
      font-weight: 600;
      color: var(--fg-subtle);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
    }

    .vital-value {
      font-size: 22px;
      font-weight: 700;
      font-family: var(--font-mono);
      line-height: 1;
    }

    .vital-unit {
      font-size: 10px;
      color: var(--fg-muted);
      font-family: var(--font-mono);
    }

    .vital-value.heartbeat { animation: heartbeat 1.5s ease-in-out infinite; }
    .vital-value.success-color { color: var(--success-fg); }
    .vital-value.accent-color { color: var(--accent-fg); }
    .vital-value.attention-color { color: var(--attention-fg); }
    .vital-value.secondary-color { color: var(--secondary-fg); }

    .vital-bar {
      height: 3px;
      background-color: var(--bg-emphasis);
      border-radius: 2px;
      margin-top: var(--space-1);
      overflow: hidden;
    }
    .vital-bar-fill {
      height: 100%;
      border-radius: 2px;
      transition: width 0.5s ease;
    }

    /* Thought bubble panel */
    .thought-panel {
      flex: 1;
      overflow-y: auto;
      padding: var(--space-4);
    }

    .thought-selected-neuron {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      margin-bottom: var(--space-3);
      padding: var(--space-2) var(--space-3);
      background-color: var(--bg-subtle);
      border: 1px solid var(--border-default);
      border-radius: var(--radius);
    }

    .thought-neuron-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      flex-shrink: 0;
    }

    .thought-neuron-name {
      font-size: 13px;
      font-weight: 600;
    }

    .thought-neuron-status {
      margin-left: auto;
      font-size: 10px;
      font-weight: 600;
      padding: 1px 6px;
      border-radius: 8px;
      text-transform: uppercase;
    }

    .thought-bubble {
      background-color: var(--bg-subtle);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-lg);
      padding: var(--space-3) var(--space-4);
      margin-bottom: var(--space-3);
      position: relative;
      animation: thoughtFade 0.3s ease-out;
    }

    .thought-bubble::before {
      content: '';
      position: absolute;
      top: -6px;
      left: 20px;
      width: 12px;
      height: 12px;
      background-color: var(--bg-subtle);
      border-left: 1px solid var(--border-default);
      border-top: 1px solid var(--border-default);
      transform: rotate(45deg);
    }

    .thought-type {
      font-size: 9px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
      margin-bottom: var(--space-1);
    }

    .thought-content {
      font-size: 12px;
      font-family: var(--font-mono);
      color: var(--fg-muted);
      line-height: 1.6;
      word-break: break-word;
    }

    .thought-time {
      font-size: 9px;
      color: var(--fg-subtle);
      margin-top: var(--space-2);
      font-family: var(--font-mono);
    }

    /* Session details in thought panel */
    .session-details {
      margin-top: var(--space-3);
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }

    .session-detail-row {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
    }

    .session-detail-label {
      color: var(--fg-subtle);
    }

    .session-detail-value {
      color: var(--fg-muted);
      font-family: var(--font-mono);
      font-weight: 500;
    }

    .session-detail-value.branch {
      color: var(--done-fg);
    }

    /* ========================================
       Design Notes
       ======================================== */
    .design-notes {
      position: fixed;
      bottom: 16px;
      right: 16px;
      width: 320px;
      background-color: var(--bg-default);
      border: 1px solid var(--accent-fg);
      border-radius: var(--radius);
      padding: var(--space-4);
      z-index: 100;
      box-shadow: var(--shadow-lg);
    }
    .design-notes h3 {
      font-size: 12px;
      font-weight: 600;
      color: var(--accent-fg);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
      margin-bottom: var(--space-2);
    }
    .design-notes p {
      font-size: 12px;
      color: var(--fg-muted);
      line-height: 1.6;
      margin-bottom: var(--space-2);
    }
    .design-notes p:last-child {
      margin-bottom: 0;
    }
    .design-notes ul {
      font-size: 12px;
      color: var(--fg-muted);
      line-height: 1.6;
      padding-left: var(--space-4);
      list-style: disc;
    }
    .design-notes ul li {
      margin-bottom: 2px;
    }
    .design-notes code {
      font-family: var(--font-mono);
      font-size: 11px;
      background-color: var(--bg-subtle);
      padding: 1px 4px;
      border-radius: 3px;
      color: var(--accent-fg);
    }
  </style>
</head>
<body>

  <!-- ========================================
       Sidebar
       ======================================== -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <svg class="logo-icon" viewBox="0 0 28 28" fill="none">
          <circle class="logo-core" cx="14" cy="14" r="4" fill="#a371f7" opacity="0.9"/>
          <circle class="logo-node logo-node-1" cx="14" cy="4" r="2" fill="#58a6ff"/>
          <circle class="logo-node logo-node-2" cx="23" cy="10" r="2" fill="#58a6ff"/>
          <circle class="logo-node logo-node-3" cx="20" cy="21" r="2" fill="#58a6ff"/>
          <circle class="logo-node logo-node-4" cx="8" cy="21" r="2" fill="#58a6ff"/>
          <circle class="logo-node logo-node-5" cx="5" cy="10" r="2" fill="#58a6ff"/>
          <line x1="14" y1="4" x2="14" y2="10" stroke="#58a6ff" stroke-width="0.75" opacity="0.4"/>
          <line x1="23" y1="10" x2="18" y2="14" stroke="#58a6ff" stroke-width="0.75" opacity="0.4"/>
          <line x1="20" y1="21" x2="17" y2="17" stroke="#58a6ff" stroke-width="0.75" opacity="0.4"/>
          <line x1="8" y1="21" x2="11" y2="17" stroke="#58a6ff" stroke-width="0.75" opacity="0.4"/>
          <line x1="5" y1="10" x2="10" y2="14" stroke="#58a6ff" stroke-width="0.75" opacity="0.4"/>
        </svg>
      </div>
      <span class="sidebar-title">AgentPane</span>
    </div>

    <div class="project-switcher">
      <div class="project-avatar">AP</div>
      <div class="project-info">
        <span class="project-name">All Projects</span>
        <span class="project-path-text">3 projects monitored</span>
      </div>
      <kbd>/</kbd>
    </div>

    <nav class="sidebar-nav">
      <div class="nav-section">
        <span class="nav-section-title">Monitor</span>
        <div class="nav-item active">
          <svg class="icon" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="3" stroke="currentColor" stroke-width="1.5"/><circle cx="8" cy="8" r="6.5" stroke="currentColor" stroke-width="1" opacity="0.4"/><circle cx="8" cy="3" r="1" fill="currentColor" opacity="0.6"/><circle cx="12" cy="10" r="1" fill="currentColor" opacity="0.6"/><circle cx="4" cy="10" r="1" fill="currentColor" opacity="0.6"/></svg>
          CLI Monitor
          <span class="nav-badge active">4</span>
        </div>
        <div class="nav-item">
          <svg class="icon" viewBox="0 0 16 16" fill="currentColor"><path d="M2 4a2 2 0 012-2h8a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V4zm2-.5a.5.5 0 00-.5.5v8a.5.5 0 00.5.5h8a.5.5 0 00.5-.5V4a.5.5 0 00-.5-.5H4z"/></svg>
          Task Board
          <span class="nav-badge default">12</span>
        </div>
        <div class="nav-item">
          <svg class="icon" viewBox="0 0 16 16" fill="currentColor"><path d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zm.5 4.75a.75.75 0 00-1.5 0v3.5a.75.75 0 00.37.65l2.5 1.5a.75.75 0 10.76-1.3L8.5 7.82V4.75z"/></svg>
          Sessions
          <span class="nav-badge default">8</span>
        </div>
      </div>

      <div class="nav-section">
        <span class="nav-section-title">Manage</span>
        <div class="nav-item">
          <svg class="icon" viewBox="0 0 16 16" fill="currentColor"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-1.25 1.25a.75.75 0 001.06 1.06l1.25-1.25a3.5 3.5 0 00-4.95-4.95l-1.25 1.25z"/><path d="M8.225 12.725a.75.75 0 001.06 1.06l1.25-1.25a3.5 3.5 0 000-4.95l-1.25 1.25a2 2 0 010 2.83l-1.06 1.06z"/><path d="M5.22 10.78a.75.75 0 010-1.06l4-4a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0z"/></svg>
          Workflows
        </div>
        <div class="nav-item">
          <svg class="icon" viewBox="0 0 16 16" fill="currentColor"><path d="M8 0a8.2 8.2 0 00-2.6.43.75.75 0 00.49 1.42A6.72 6.72 0 018 1.5a6.5 6.5 0 010 13 6.72 6.72 0 01-2.11-.35.75.75 0 10-.49 1.42A8.2 8.2 0 008 16a8 8 0 000-16z"/><path d="M3.87 11.41a.75.75 0 001.06-1.06L3.37 8.79H9.5a.75.75 0 000-1.5H3.37l1.56-1.56A.75.75 0 003.87 4.67L1.3 7.24a.75.75 0 000 1.06l2.57 2.57.54.54z"/></svg>
          Settings
        </div>
      </div>
    </nav>

    <div class="sidebar-footer">
      <div class="user-menu">
        <div class="user-avatar">SL</div>
        <span class="user-name">Simon Lynch</span>
      </div>
    </div>
  </aside>

  <!-- ========================================
       App Layout
       ======================================== -->
  <div class="app-layout">

    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <div class="header-title">
          <svg style="width:20px;height:20px;color:var(--fg-muted)" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="12" cy="12" r="4"/>
            <circle cx="12" cy="12" r="9" opacity="0.3"/>
            <circle cx="12" cy="4" r="1.5" fill="currentColor" stroke="none"/>
            <circle cx="19" cy="16" r="1.5" fill="currentColor" stroke="none"/>
            <circle cx="5" cy="16" r="1.5" fill="currentColor" stroke="none"/>
            <line x1="12" y1="4" x2="12" y2="8" stroke="currentColor" stroke-width="0.8" opacity="0.5"/>
            <line x1="19" y1="16" x2="16" y2="14" stroke="currentColor" stroke-width="0.8" opacity="0.5"/>
            <line x1="5" y1="16" x2="8" y2="14" stroke="currentColor" stroke-width="0.8" opacity="0.5"/>
          </svg>
          <h1>Neural Monitor</h1>
        </div>
        <div class="live-indicator">
          <div class="live-dot"></div>
          LIVE SCAN
        </div>
      </div>
      <div class="header-controls">
        <div class="view-toggle">
          <button class="view-btn active">Neural</button>
          <button class="view-btn">List</button>
          <button class="view-btn">Grid</button>
        </div>
      </div>
    </header>

    <!-- EEG Waveform Strip -->
    <div class="eeg-strip">
      <div class="eeg-label">EEG</div>
      <div class="eeg-channels">
        <!-- Channel 1: Working session -->
        <div class="eeg-channel">
          <span class="eeg-channel-label" style="color: var(--success-fg)">S1 auth</span>
          <div class="eeg-channel-wave">
            <svg viewBox="0 0 300 50" preserveAspectRatio="none">
              <path class="eeg-wave-path eeg-wave-working" d="M0,25 Q15,5 30,25 Q45,45 60,25 Q75,8 90,25 Q105,42 120,25 Q135,10 150,25 Q165,40 180,25 Q195,12 210,25 Q225,38 240,25 Q255,14 270,25 Q285,36 300,25"/>
            </svg>
          </div>
        </div>
        <!-- Channel 2: Working session -->
        <div class="eeg-channel">
          <span class="eeg-channel-label" style="color: var(--success-fg)">S2 api</span>
          <div class="eeg-channel-wave">
            <svg viewBox="0 0 300 50" preserveAspectRatio="none">
              <path class="eeg-wave-path eeg-wave-working" style="animation-delay: -0.4s;" d="M0,25 Q15,8 30,25 Q45,42 60,25 Q75,5 90,25 Q105,45 120,25 Q135,8 150,25 Q165,42 180,25 Q195,5 210,25 Q225,45 240,25 Q255,8 270,25 Q285,42 300,25"/>
            </svg>
          </div>
        </div>
        <!-- Channel 3: Waiting session -->
        <div class="eeg-channel">
          <span class="eeg-channel-label" style="color: var(--attention-fg)">S3 migr</span>
          <div class="eeg-channel-wave">
            <svg viewBox="0 0 300 50" preserveAspectRatio="none">
              <path class="eeg-wave-path eeg-wave-waiting" d="M0,25 Q15,15 30,25 Q45,35 60,25 Q75,17 90,25 Q105,33 120,25 Q135,18 150,25 Q165,32 180,25 Q195,19 210,25 Q225,31 240,25 Q255,18 270,25 Q285,32 300,25"/>
            </svg>
          </div>
        </div>
        <!-- Channel 4: Idle session -->
        <div class="eeg-channel">
          <span class="eeg-channel-label" style="color: var(--fg-subtle)">S4 test</span>
          <div class="eeg-channel-wave">
            <svg viewBox="0 0 300 50" preserveAspectRatio="none">
              <path class="eeg-wave-path eeg-wave-idle" d="M0,25 Q15,22 30,25 Q45,28 60,25 Q75,23 90,25 Q105,27 120,25 Q135,24 150,25 Q165,26 180,25 Q195,24 210,25 Q225,26 240,25 Q255,24 270,25 Q285,26 300,25"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="eeg-stats">
        <div class="eeg-stat">FREQ <span class="eeg-stat-value">12.4 Hz</span></div>
        <div class="eeg-stat">AMP <span class="eeg-stat-value">0.82 mV</span></div>
        <div class="eeg-stat">SYNC <span class="eeg-stat-value" style="color: var(--success-fg)">98.2%</span></div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">

      <!-- Neural Viewport -->
      <div class="neural-viewport">

        <!-- Cortex Regions -->
        <div class="cortex-region project-a">
          <div class="cortex-label">Frontal Cortex: agentpane-web</div>
          <div class="cortex-sublabel">2 active neurons</div>
        </div>
        <div class="cortex-region project-b">
          <div class="cortex-label">Parietal Cortex: claude-sdk</div>
          <div class="cortex-sublabel">1 waiting neuron</div>
        </div>
        <div class="cortex-region project-c">
          <div class="cortex-label">Temporal Cortex: data-pipeline</div>
          <div class="cortex-sublabel">1 idle neuron</div>
        </div>

        <!-- SVG layer for synapses and ripples -->
        <svg class="neural-svg" viewBox="0 0 800 600" preserveAspectRatio="xMidYMid meet">
          <defs>
            <filter id="glow-green">
              <feGaussianBlur stdDeviation="3" result="blur"/>
              <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <filter id="glow-amber">
              <feGaussianBlur stdDeviation="2.5" result="blur"/>
              <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
          </defs>

          <!-- Background dendrite network (decorative) -->
          <g opacity="0.06" stroke="#58a6ff" stroke-width="0.5" fill="none">
            <path d="M100,100 Q200,50 300,120"/>
            <path d="M300,120 Q400,180 500,130"/>
            <path d="M200,250 Q350,200 450,280"/>
            <path d="M150,350 Q280,300 380,370"/>
            <path d="M400,100 Q550,60 650,140"/>
            <path d="M500,300 Q600,250 700,320"/>
            <path d="M250,450 Q400,400 520,460"/>
            <path d="M600,180 Q680,230 720,180"/>
            <path d="M100,200 Q180,280 250,250"/>
            <path d="M350,350 Q450,420 550,380"/>
          </g>

          <!-- Synapse connections between neurons -->
          <!-- S1 (auth-service, 200,180) to S2 (api-gateway, 300,320) - same project, share files -->
          <path class="synapse-line" d="M200,180 Q250,250 300,320"/>
          <path class="synapse-pulse-line synapse-pulse-green" d="M200,180 Q250,250 300,320" style="animation-delay: 0s;"/>

          <!-- S1 to S3 (sdk-migration, 560,200) - cross-project dependency -->
          <path class="synapse-line" d="M200,180 Q380,120 560,200"/>
          <path class="synapse-pulse-line synapse-pulse-green" d="M200,180 Q380,120 560,200" style="animation-delay: 0.6s;"/>

          <!-- S2 to S3 -->
          <path class="synapse-line" d="M300,320 Q430,240 560,200"/>
          <path class="synapse-pulse-line synapse-pulse-amber" d="M300,320 Q430,240 560,200" style="animation-delay: 0.3s;"/>

          <!-- S2 to S4 (test-suite, 380,440) -->
          <path class="synapse-line" d="M300,320 Q340,380 380,440"/>
          <path class="synapse-pulse-line synapse-pulse-dim" d="M300,320 Q340,380 380,440"/>

          <!-- S1 to S4 -->
          <path class="synapse-line" d="M200,180 Q290,310 380,440"/>
          <path class="synapse-pulse-line synapse-pulse-dim" d="M200,180 Q290,310 380,440" style="animation-delay: 1s;"/>

          <!-- S3 to S4 -->
          <path class="synapse-line" d="M560,200 Q470,320 380,440"/>
          <path class="synapse-pulse-line synapse-pulse-dim" d="M560,200 Q470,320 380,440" style="animation-delay: 2s;"/>

          <!-- Firing ripples on working neurons -->
          <circle class="fire-ripple green" cx="200" cy="180" r="4"/>
          <circle class="fire-ripple green-delayed" cx="200" cy="180" r="4"/>
          <circle class="fire-ripple green" cx="300" cy="320" r="4" style="animation-delay: 0.3s;"/>
          <circle class="fire-ripple green-delayed" cx="300" cy="320" r="4" style="animation-delay: 0.8s;"/>
          <circle class="fire-ripple amber" cx="560" cy="200" r="4"/>
        </svg>

        <!-- Floating particles -->
        <div class="neural-particle" style="left:15%;top:25%;background:var(--success-fg);--dx:10px;--dy:-8px;animation:floatParticle 4s ease-in-out infinite;"></div>
        <div class="neural-particle" style="left:35%;top:55%;background:var(--success-fg);--dx:-8px;--dy:12px;animation:floatParticle 5s ease-in-out infinite 1s;"></div>
        <div class="neural-particle" style="left:60%;top:30%;background:var(--attention-fg);--dx:12px;--dy:6px;animation:floatParticle 6s ease-in-out infinite 0.5s;"></div>
        <div class="neural-particle" style="left:50%;top:70%;background:var(--fg-subtle);--dx:-6px;--dy:-10px;animation:floatParticle 7s ease-in-out infinite 2s;"></div>
        <div class="neural-particle" style="left:25%;top:40%;background:var(--accent-fg);--dx:8px;--dy:8px;animation:floatParticle 5.5s ease-in-out infinite 0.8s;"></div>
        <div class="neural-particle" style="left:70%;top:50%;background:var(--done-fg);--dx:-10px;--dy:-6px;animation:floatParticle 6.5s ease-in-out infinite 1.5s;"></div>
        <div class="neural-particle" style="left:45%;top:15%;background:var(--accent-fg);--dx:6px;--dy:10px;animation:floatParticle 8s ease-in-out infinite 3s;"></div>
        <div class="neural-particle" style="left:80%;top:65%;background:var(--secondary-fg);--dx:-12px;--dy:4px;animation:floatParticle 5s ease-in-out infinite 2.5s;"></div>

        <!-- Neuron S1: auth-service (working) - in project-a region -->
        <div class="neuron working selected" style="left: calc(25% - 32px); top: calc(30% - 32px);">
          <div class="neuron-ring-outer"></div>
          <div class="neuron-ring"></div>
          <div class="neuron-core">S1</div>
          <div class="neuron-label">auth-service</div>
          <div class="neuron-status">FIRING</div>
        </div>

        <!-- Neuron S2: api-gateway (working) - in project-a region -->
        <div class="neuron working" style="left: calc(37.5% - 32px); top: calc(53% - 32px);">
          <div class="neuron-ring-outer"></div>
          <div class="neuron-ring"></div>
          <div class="neuron-core">S2</div>
          <div class="neuron-label">api-gateway</div>
          <div class="neuron-status">FIRING</div>
        </div>

        <!-- Neuron S3: sdk-migration (waiting) - in project-b region -->
        <div class="neuron waiting" style="left: calc(70% - 32px); top: calc(33% - 32px);">
          <div class="neuron-ring-outer"></div>
          <div class="neuron-ring"></div>
          <div class="neuron-core">S3</div>
          <div class="neuron-label">sdk-migration</div>
          <div class="neuron-status">PENDING</div>
        </div>

        <!-- Neuron S4: test-suite (idle) - in project-c region -->
        <div class="neuron idle" style="left: calc(47.5% - 32px); top: calc(73% - 32px);">
          <div class="neuron-ring-outer"></div>
          <div class="neuron-ring"></div>
          <div class="neuron-core">S4</div>
          <div class="neuron-label">test-suite</div>
          <div class="neuron-status">DORMANT</div>
        </div>

      </div>

      <!-- Right Panel -->
      <div class="right-panel">

        <!-- Vitals Panel -->
        <div class="panel-section">
          <div class="panel-section-title">
            <svg viewBox="0 0 16 16" fill="currentColor"><path d="M8 0a8 8 0 100 16A8 8 0 008 0zm0 1.5a6.5 6.5 0 110 13 6.5 6.5 0 010-13zM8 4a.75.75 0 01.75.75v3.5a.75.75 0 01-.37.65l-2.5 1.5a.75.75 0 01-.76-1.3l2.13-1.28V4.75A.75.75 0 018 4z"/></svg>
            System Vitals
          </div>
          <div class="vitals-grid">
            <!-- Heart rate = turns per minute -->
            <div class="vital-card">
              <div class="vital-icon">&#x2764;&#xFE0F;</div>
              <div class="vital-label">Heart Rate</div>
              <div class="vital-value heartbeat success-color">24</div>
              <div class="vital-unit">turns/min</div>
              <div class="vital-bar">
                <div class="vital-bar-fill" style="width: 72%; background: var(--success-fg);"></div>
              </div>
            </div>

            <!-- Blood pressure = token I/O ratio -->
            <div class="vital-card">
              <div class="vital-icon">&#x1FA78;</div>
              <div class="vital-label">Blood Pressure</div>
              <div class="vital-value accent-color">1.8</div>
              <div class="vital-unit">in/out ratio</div>
              <div class="vital-bar">
                <div class="vital-bar-fill" style="width: 60%; background: var(--accent-fg);"></div>
              </div>
            </div>

            <!-- Temperature = API rate limit -->
            <div class="vital-card">
              <div class="vital-icon">&#x1F321;&#xFE0F;</div>
              <div class="vital-label">Temperature</div>
              <div class="vital-value attention-color">38.2</div>
              <div class="vital-unit">% rate limit</div>
              <div class="vital-bar">
                <div class="vital-bar-fill" style="width: 38%; background: var(--attention-fg);"></div>
              </div>
            </div>

            <!-- Brain activity = active sessions -->
            <div class="vital-card">
              <div class="vital-icon">&#x1F9E0;</div>
              <div class="vital-label">Brain Activity</div>
              <div class="vital-value secondary-color">75</div>
              <div class="vital-unit">% active</div>
              <div class="vital-bar">
                <div class="vital-bar-fill" style="width: 75%; background: var(--secondary-fg);"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Current Thought Panel -->
        <div class="thought-panel">
          <div class="panel-section-title">
            <svg viewBox="0 0 16 16" fill="currentColor"><path d="M8 1.5a6.5 6.5 0 00-5.58 9.85l-.38 1.9a.75.75 0 00.9.9l1.9-.38A6.5 6.5 0 108 1.5zM0 8a8 8 0 1114.09 5.13l.38 1.9a2.25 2.25 0 01-2.68 2.68l-1.9-.38A8 8 0 010 8z"/></svg>
            Current Thought
          </div>

          <!-- Selected neuron indicator -->
          <div class="thought-selected-neuron">
            <div class="thought-neuron-dot" style="background: var(--success-fg); box-shadow: 0 0 8px rgba(63,185,80,0.5);"></div>
            <span class="thought-neuron-name">S1 auth-service</span>
            <span class="thought-neuron-status" style="background: var(--success-muted); color: var(--success-fg);">WORKING</span>
          </div>

          <!-- Thought bubbles -->
          <div class="thought-bubble">
            <div class="thought-type" style="color: var(--accent-fg);">Tool Call</div>
            <div class="thought-content">
              Read src/middleware/auth.ts<br>
              Analyzing JWT validation logic and token refresh flow...
            </div>
            <div class="thought-time">2s ago</div>
          </div>

          <div class="thought-bubble" style="animation-delay: 0.1s;">
            <div class="thought-type" style="color: var(--success-fg);">Output</div>
            <div class="thought-content">
              Found 3 issues in the auth middleware:<br>
              1. Token expiry check is off by 1<br>
              2. Missing refresh token rotation<br>
              3. No rate limiting on /auth/refresh
            </div>
            <div class="thought-time">8s ago</div>
          </div>

          <div class="thought-bubble" style="animation-delay: 0.2s;">
            <div class="thought-type" style="color: var(--done-fg);">Edit</div>
            <div class="thought-content">
              Writing fix to src/middleware/auth.ts<br>
              +12 lines, -3 lines
            </div>
            <div class="thought-time">14s ago</div>
          </div>

          <!-- Session details -->
          <div class="session-details">
            <div class="session-detail-row">
              <span class="session-detail-label">Branch</span>
              <span class="session-detail-value branch">fix/auth-jwt-refresh</span>
            </div>
            <div class="session-detail-row">
              <span class="session-detail-label">Goal</span>
              <span class="session-detail-value">Fix JWT auth middleware</span>
            </div>
            <div class="session-detail-row">
              <span class="session-detail-label">Tokens</span>
              <span class="session-detail-value">14.2k in / 7.8k out</span>
            </div>
            <div class="session-detail-row">
              <span class="session-detail-label">Tool Calls</span>
              <span class="session-detail-value">47</span>
            </div>
            <div class="session-detail-row">
              <span class="session-detail-label">Duration</span>
              <span class="session-detail-value">4m 32s</span>
            </div>
            <div class="session-detail-row">
              <span class="session-detail-label">Turns</span>
              <span class="session-detail-value">12 / 50</span>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>

  <!-- ========================================
       Design Notes
       ======================================== -->
  <div class="design-notes">
    <h3>Design Notes: Neural Network / Brain Scan</h3>
    <p>Sessions are visualized as <code>neurons</code> in a stylized brain. Each project occupies a labeled <code>cortex region</code>.</p>
    <ul>
      <li><strong>Working</strong> neurons glow green, fire rapidly with ripple animations and high-amplitude EEG waves</li>
      <li><strong>Waiting</strong> neurons pulse amber slowly with moderate EEG signal</li>
      <li><strong>Idle</strong> neurons are dim with flatline EEG</li>
      <li><strong>Synapses</strong> carry animated electrical pulses between connected neurons (shared files/deps)</li>
      <li><strong>EEG strip</strong> across top shows per-session brain wave activity in real time</li>
      <li><strong>Vitals</strong> use medical metaphors: heart rate = turns/min, blood pressure = token I/O ratio, temperature = API rate usage, brain activity = active session %</li>
      <li><strong>Thought panel</strong> shows the selected neuron's recent output as thought bubbles</li>
    </ul>
  </div>

</body>
</html>
