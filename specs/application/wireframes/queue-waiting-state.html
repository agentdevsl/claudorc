<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Queue - Waiting State</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://api.fontshare.com/v2/css?f[]=mona-sans@400,500,600,700&display=swap" rel="stylesheet">
    <style>
        /* CSS Reset */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            height: 100%;
        }

        body {
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
        }

        img, picture, video, canvas, svg {
            display: block;
            max-width: 100%;
        }

        input, button, textarea, select {
            font: inherit;
        }

        p, h1, h2, h3, h4, h5, h6 {
            overflow-wrap: break-word;
        }

        /* Design Tokens */
        :root {
            --bg-canvas: #0d1117;
            --bg-default: #161b22;
            --bg-subtle: #1c2128;
            --bg-muted: #21262d;
            --bg-emphasis: #30363d;
            --border-default: #30363d;
            --fg-default: #e6edf3;
            --fg-muted: #8b949e;
            --fg-subtle: #6e7681;
            --accent-fg: #58a6ff;
            --accent-muted: rgba(56, 139, 253, 0.15);
            --success-fg: #3fb950;
            --success-muted: rgba(46, 160, 67, 0.15);
            --danger-fg: #f85149;
            --attention-fg: #d29922;
            --attention-muted: rgba(187, 128, 9, 0.15);
            --done-fg: #a371f7;
            --radius: 6px;
            --font-sans: 'Mona Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            --font-mono: 'Fira Code', monospace;
        }

        /* Base Styles */
        body {
            font-family: var(--font-sans);
            background-color: var(--bg-canvas);
            color: var(--fg-default);
            min-height: 100vh;
            display: grid;
            grid-template-columns: 240px 1fr;
            margin: 0;
            padding: 0;
        }

        /* Layout */
        .main-wrapper {
            padding: 24px;
            overflow-y: auto;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-default);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 600;
            color: var(--fg-default);
        }

        .capacity-meter {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .capacity-label {
            font-size: 14px;
            color: var(--fg-muted);
        }

        .capacity-bar {
            width: 120px;
            height: 8px;
            background-color: var(--bg-emphasis);
            border-radius: 4px;
            overflow: hidden;
        }

        .capacity-fill {
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, var(--success-fg), var(--accent-fg));
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .capacity-text {
            font-family: var(--font-mono);
            font-size: 14px;
            color: var(--fg-default);
        }

        .refresh-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: var(--bg-muted);
            border: 1px solid var(--border-default);
            border-radius: var(--radius);
            color: var(--fg-default);
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .refresh-btn:hover {
            background-color: var(--bg-emphasis);
        }

        .refresh-icon {
            width: 16px;
            height: 16px;
        }

        /* Main Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 24px;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        /* Section Headers */
        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 600;
            color: var(--fg-default);
        }

        .section-count {
            font-size: 12px;
            font-weight: 500;
            padding: 2px 8px;
            background-color: var(--bg-emphasis);
            border-radius: 10px;
            color: var(--fg-muted);
        }

        /* Running Agents Section */
        .running-section {
            background-color: var(--bg-default);
            border: 1px solid var(--border-default);
            border-radius: var(--radius);
            padding: 20px;
        }

        .running-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .agent-card {
            background-color: var(--bg-subtle);
            border: 1px solid var(--border-default);
            border-radius: var(--radius);
            padding: 16px;
            position: relative;
        }

        .agent-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .agent-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-fg), var(--done-fg));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            color: white;
            position: relative;
        }

        .agent-avatar::after {
            content: '';
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 10px;
            height: 10px;
            background-color: var(--success-fg);
            border-radius: 50%;
            border: 2px solid var(--bg-subtle);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.1);
            }
        }

        .agent-info {
            flex: 1;
        }

        .agent-name {
            font-weight: 600;
            font-size: 14px;
            color: var(--fg-default);
        }

        .agent-task {
            font-family: var(--font-mono);
            font-size: 12px;
            color: var(--accent-fg);
        }

        .running-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            background-color: var(--success-muted);
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            color: var(--success-fg);
        }

        .running-dot {
            width: 6px;
            height: 6px;
            background-color: var(--success-fg);
            border-radius: 50%;
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        .progress-section {
            margin-top: 12px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 6px;
        }

        .progress-label {
            font-size: 12px;
            color: var(--fg-muted);
        }

        .progress-percent {
            font-family: var(--font-mono);
            font-size: 12px;
            color: var(--fg-default);
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: var(--bg-emphasis);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--accent-fg);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .progress-fill.high {
            background-color: var(--success-fg);
        }

        /* Queue Section */
        .queue-section {
            background-color: var(--bg-default);
            border: 1px solid var(--border-default);
            border-radius: var(--radius);
            padding: 20px;
        }

        .queue-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .queue-item {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            padding: 16px;
            background-color: var(--bg-subtle);
            border: 1px solid var(--border-default);
            border-radius: var(--radius);
            transition: border-color 0.2s;
        }

        .queue-item.highlighted {
            border-color: var(--accent-fg);
            background-color: var(--accent-muted);
        }

        .position-badge {
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 32px;
            height: 32px;
            background-color: var(--bg-emphasis);
            border-radius: var(--radius);
            font-family: var(--font-mono);
            font-size: 14px;
            font-weight: 600;
            color: var(--fg-muted);
        }

        .queue-item.highlighted .position-badge {
            background-color: var(--accent-fg);
            color: white;
        }

        .queue-item-content {
            flex: 1;
        }

        .queue-item-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        .task-id {
            font-family: var(--font-mono);
            font-size: 14px;
            color: var(--accent-fg);
            font-weight: 500;
        }

        .task-title {
            font-size: 14px;
            color: var(--fg-default);
        }

        .queue-item-meta {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-top: 8px;
        }

        .priority-badge {
            display: inline-flex;
            align-items: center;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .priority-badge.high {
            background-color: rgba(248, 81, 73, 0.15);
            color: var(--danger-fg);
        }

        .priority-badge.medium {
            background-color: var(--attention-muted);
            color: var(--attention-fg);
        }

        .priority-badge.low {
            background-color: var(--success-muted);
            color: var(--success-fg);
        }

        .wait-time {
            font-size: 12px;
            color: var(--fg-muted);
        }

        .wait-time span {
            font-family: var(--font-mono);
            color: var(--fg-subtle);
        }

        .requested-by {
            font-size: 12px;
            color: var(--fg-muted);
        }

        .requested-by span {
            color: var(--accent-fg);
        }

        .queue-item-right {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 8px;
        }

        .next-up-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            background-color: var(--accent-muted);
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            color: var(--accent-fg);
        }

        .next-up-badge svg {
            width: 12px;
            height: 12px;
        }

        /* Sidebar */
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        /* Queue Info Panel */
        .info-panel {
            background-color: var(--bg-default);
            border: 1px solid var(--border-default);
            border-radius: var(--radius);
            padding: 20px;
        }

        .info-panel h3 {
            font-size: 14px;
            font-weight: 600;
            color: var(--fg-default);
            margin-bottom: 16px;
        }

        .stats-grid {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stat-label {
            font-size: 14px;
            color: var(--fg-muted);
        }

        .stat-value {
            font-family: var(--font-mono);
            font-size: 14px;
            font-weight: 600;
            color: var(--fg-default);
        }

        .stat-value.highlight {
            color: var(--success-fg);
        }

        .jump-btn {
            width: 100%;
            margin-top: 16px;
            padding: 10px 16px;
            background-color: var(--accent-muted);
            border: 1px solid var(--accent-fg);
            border-radius: var(--radius);
            color: var(--accent-fg);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .jump-btn:hover {
            background-color: var(--accent-fg);
            color: white;
        }

        /* Design Notes Panel */
        .design-notes {
            background-color: var(--bg-default);
            border: 1px solid var(--border-default);
            border-radius: var(--radius);
            padding: 20px;
        }

        .design-notes h3 {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: var(--done-fg);
            margin-bottom: 16px;
        }

        .design-notes h3 svg {
            width: 16px;
            height: 16px;
        }

        .notes-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .note-item {
            padding: 12px;
            background-color: var(--bg-subtle);
            border-radius: var(--radius);
            border-left: 3px solid var(--done-fg);
        }

        .note-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--fg-default);
            margin-bottom: 4px;
        }

        .note-text {
            font-size: 12px;
            color: var(--fg-muted);
            line-height: 1.5;
        }

        .note-text code {
            font-family: var(--font-mono);
            font-size: 12px;
            padding: 2px 4px;
            background-color: var(--bg-emphasis);
            border-radius: 3px;
            color: var(--accent-fg);
        }

        /* Animated Elements */
        .loading-dots {
            display: flex;
            gap: 4px;
        }

        .loading-dots span {
            width: 4px;
            height: 4px;
            background-color: var(--accent-fg);
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
        .loading-dots span:nth-child(3) { animation-delay: 0; }

        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0);
            }
            40% {
                transform: scale(1);
            }
        }

        /* App Sidebar Navigation */
        .app-sidebar {
            background-color: var(--bg-default);
            border-right: 1px solid var(--border-default);
            display: flex;
            flex-direction: column;
            height: 100vh;
            position: sticky;
            top: 0;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-default);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 44px;
            height: 44px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            background: radial-gradient(ellipse at 30% 30%, rgba(88, 166, 255, 0.08) 0%, transparent 50%), linear-gradient(165deg, #12161c 0%, #0a0d11 100%);
            box-shadow: 0 1px 0 0 rgba(255,255,255,0.04) inset, 0 -1px 0 0 rgba(0,0,0,0.3) inset, 0 4px 16px -2px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255,255,255,0.06);
            overflow: hidden;
        }

        .logo::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 12px;
            background: radial-gradient(circle at 50% 50%, rgba(163, 113, 247, 0.15) 0%, transparent 60%);
            animation: logoGlow 4s ease-in-out infinite;
        }

        @keyframes logoGlow {
            0%, 100% { opacity: 0.5; transform: scale(0.9); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        .logo-icon {
            position: relative;
            z-index: 1;
            width: 28px;
            height: 28px;
            filter: drop-shadow(0 0 8px rgba(163, 113, 247, 0.4));
        }

        /* Network node animations */
        .logo-node {
          animation: nodePulse 2s ease-in-out infinite;
        }
        .logo-node-1 { animation-delay: 0s; }
        .logo-node-2 { animation-delay: 0.4s; }
        .logo-node-3 { animation-delay: 0.8s; }
        .logo-node-4 { animation-delay: 1.2s; }
        .logo-node-5 { animation-delay: 1.6s; }

        @keyframes nodePulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }

        .logo-core { animation: corePulse 3s ease-in-out infinite; }

        @keyframes corePulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

        .logo:hover {
            box-shadow: 0 1px 0 0 rgba(255,255,255,0.06) inset, 0 -1px 0 0 rgba(0,0,0,0.3) inset, 0 8px 24px -4px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(163, 113, 247, 0.2), 0 0 20px -4px rgba(163, 113, 247, 0.3);
        }
        .logo:hover .logo-icon { filter: drop-shadow(0 0 12px rgba(163, 113, 247, 0.6)); }
        .logo:hover .logo-path { animation-duration: 1.5s; }
        .logo:hover .logo-core { animation-duration: 1.5s; }

        .sidebar-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--fg-default);
        }

        .project-switcher {
            margin: 16px;
            padding: 12px;
            background-color: var(--bg-subtle);
            border: 1px solid var(--border-default);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .project-switcher:hover {
            background-color: var(--bg-muted);
        }

        .project-avatar {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--success-fg), var(--accent-fg));
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 12px;
        }

        .project-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 2px;
            min-width: 0;
        }

        .project-name {
            font-size: 14px;
            font-weight: 500;
            color: var(--fg-default);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .project-path {
            font-family: var(--font-mono);
            font-size: 12px;
            color: var(--fg-subtle);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .project-switcher kbd {
            padding: 2px 6px;
            background-color: var(--bg-emphasis);
            border: 1px solid var(--border-default);
            border-radius: 3px;
            font-size: 12px;
            color: var(--fg-muted);
            font-family: var(--font-mono);
        }

        .sidebar-nav {
            flex: 1;
            overflow-y: auto;
            padding: 16px 0;
        }

        .nav-section {
            margin-bottom: 24px;
        }

        .nav-section-title {
            padding: 0 20px;
            margin-bottom: 8px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--fg-subtle);
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 20px;
            color: var(--fg-muted);
            text-decoration: none;
            font-size: 14px;
            transition: all 0.15s;
            position: relative;
        }

        .nav-item:hover {
            background-color: var(--bg-subtle);
            color: var(--fg-default);
        }

        .nav-item.active {
            color: var(--accent-fg);
            background-color: var(--accent-muted);
        }

        .nav-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: var(--accent-fg);
        }

        .nav-item svg {
            width: 16px;
            height: 16px;
            flex-shrink: 0;
        }

        .nav-badge {
            margin-left: auto;
            padding: 2px 6px;
            background-color: var(--bg-emphasis);
            border-radius: 10px;
            font-size: 12px;
            font-weight: 500;
            color: var(--fg-muted);
        }

        .nav-badge.active {
            background-color: var(--accent-muted);
            color: var(--accent-fg);
        }

        .sidebar-footer {
            padding: 16px;
            border-top: 1px solid var(--border-default);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px;
            border-radius: var(--radius);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .user-menu:hover {
            background-color: var(--bg-subtle);
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--done-fg), var(--accent-fg));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 12px;
        }

        .user-name {
            font-size: 14px;
            font-weight: 500;
            color: var(--fg-default);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            body {
                grid-template-columns: 1fr;
            }

            .app-sidebar {
                display: none;
            }

            .main-grid {
                grid-template-columns: 1fr;
            }

            .running-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar Navigation -->
    <aside class="app-sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 32 32" fill="none">
                    <defs>
                        <radialGradient id="coreGrad" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" stop-color="#fff"/>
                            <stop offset="50%" stop-color="#3fb950"/>
                            <stop offset="100%" stop-color="#3fb950" stop-opacity="0"/>
                        </radialGradient>
                    </defs>
                    <!-- Connection lines to center -->
                    <line x1="14" y1="14" x2="6" y2="8" stroke="#58a6ff" stroke-opacity="0.4" stroke-width="1"/>
                    <line x1="14" y1="14" x2="22" y2="6" stroke="#a371f7" stroke-opacity="0.4" stroke-width="1"/>
                    <line x1="14" y1="14" x2="26" y2="16" stroke="#3fb950" stroke-opacity="0.4" stroke-width="1"/>
                    <line x1="14" y1="14" x2="20" y2="26" stroke="#f778ba" stroke-opacity="0.4" stroke-width="1"/>
                    <line x1="14" y1="14" x2="6" y2="22" stroke="#d29922" stroke-opacity="0.4" stroke-width="1"/>
                    <!-- Node-to-node connections -->
                    <line x1="6" y1="8" x2="22" y2="6" stroke="#58a6ff" stroke-opacity="0.15" stroke-width="1"/>
                    <line x1="26" y1="16" x2="20" y2="26" stroke="#3fb950" stroke-opacity="0.15" stroke-width="1"/>
                    <!-- Outer nodes (asymmetric cluster) -->
                    <circle class="logo-node logo-node-1" cx="6" cy="8" r="2" fill="#58a6ff" style="filter: drop-shadow(0 0 2px #58a6ff);"/>
                    <circle class="logo-node logo-node-2" cx="22" cy="6" r="2.5" fill="#a371f7" style="filter: drop-shadow(0 0 3px #a371f7);"/>
                    <circle class="logo-node logo-node-3" cx="26" cy="16" r="2" fill="#3fb950" style="filter: drop-shadow(0 0 2px #3fb950);"/>
                    <circle class="logo-node logo-node-4" cx="20" cy="26" r="3" fill="#f778ba" style="filter: drop-shadow(0 0 3px #f778ba);"/>
                    <circle class="logo-node logo-node-5" cx="6" cy="22" r="2" fill="#d29922" style="filter: drop-shadow(0 0 2px #d29922);"/>
                    <!-- Center hub -->
                    <circle class="logo-core" cx="14" cy="14" r="5" fill="url(#coreGrad)"/>
                    <circle cx="14" cy="14" r="2" fill="#fff"/>
                </svg>
            </div>
            <span class="sidebar-title">AgentPane</span>
        </div>

        <div class="project-switcher">
            <div class="project-avatar">AP</div>
            <div class="project-info">
                <span class="project-name">AgentPane</span>
                <span class="project-path">~/git/claudorc</span>
            </div>
            <kbd>âŒ˜P</kbd>
        </div>

        <nav class="sidebar-nav">
            <div class="nav-section">
                <span class="nav-section-title">Workspace</span>
                <a class="nav-item" href="/projects">
                    <svg viewBox="0 0 16 16" fill="currentColor">
                        <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"/>
                    </svg>
                    Projects
                </a>
                <a class="nav-item" href="/agents">
                    <svg viewBox="0 0 16 16" fill="currentColor">
                        <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"/>
                    </svg>
                    Agents
                    <span class="nav-badge">3</span>
                </a>
                <a class="nav-item" href="/tasks">
                    <svg viewBox="0 0 16 16" fill="currentColor">
                        <path d="M2.5 3.5v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1ZM1 3.5a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-9a2 2 0 0 1-2-2Zm9.854 2.854a.5.5 0 0 0-.708-.708L7 8.793 5.854 7.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3.5-3.5Z"/>
                    </svg>
                    Tasks
                    <span class="nav-badge">12</span>
                </a>
                <a class="nav-item active" href="/queue">
                    <svg viewBox="0 0 16 16" fill="currentColor">
                        <path d="M6 2a.5.5 0 0 1 .47.33L10 12.036l1.53-4.208A.5.5 0 0 1 12 7.5h3.5a.5.5 0 0 1 0 1h-3.15l-1.88 5.17a.5.5 0 0 1-.94 0L6 3.964 4.47 8.171A.5.5 0 0 1 4 8.5H.5a.5.5 0 0 1 0-1h3.15l1.88-5.17A.5.5 0 0 1 6 2Z"/>
                    </svg>
                    Queue
                    <span class="nav-badge active">4</span>
                </a>
            </div>

            <div class="nav-section">
                <span class="nav-section-title">History</span>
                <a class="nav-item" href="/sessions">
                    <svg viewBox="0 0 16 16" fill="currentColor">
                        <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
                    </svg>
                    Sessions
                </a>
                <a class="nav-item" href="/worktrees">
                    <svg viewBox="0 0 16 16" fill="currentColor">
                        <path d="M6.5 3.5v5a1.5 1.5 0 1 0 3 0v-5a1.5 1.5 0 1 0-3 0zM8 2a.5.5 0 0 1 .5.5V3h1.5a.5.5 0 0 1 0 1H8.5v5a.5.5 0 0 1-1 0V4H6a.5.5 0 0 1 0-1h1.5v-.5A.5.5 0 0 1 8 2z"/>
                        <path d="M12 14a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm-6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/>
                    </svg>
                    Worktrees
                </a>
            </div>

            <div class="nav-section">
                <span class="nav-section-title">Project</span>
                <a class="nav-item" href="/settings">
                    <svg viewBox="0 0 16 16" fill="currentColor">
                        <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                        <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319z"/>
                    </svg>
                    Settings
                </a>
            </div>
        </nav>

        <div class="sidebar-footer">
            <div class="user-menu">
                <div class="user-avatar">SL</div>
                <span class="user-name">Simon Lynch</span>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <div class="main-wrapper">
        <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1>Agent Queue</h1>
                <div class="capacity-meter">
                    <span class="capacity-label">Capacity</span>
                    <div class="capacity-bar">
                        <div class="capacity-fill" style="width: 50%;"></div>
                    </div>
                    <span class="capacity-text">3 / 6 agents</span>
                </div>
            </div>
            <button class="refresh-btn">
                <svg class="refresh-icon" viewBox="0 0 16 16" fill="currentColor">
                    <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
                    <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
                </svg>
                Refresh
            </button>
        </header>

        <div class="main-grid">
            <div class="main-content">
                <!-- Currently Running Section -->
                <section class="running-section">
                    <div class="section-header">
                        <h2 class="section-title">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>
                            </svg>
                            Currently Running
                        </h2>
                        <span class="section-count">3 active</span>
                    </div>

                    <div class="running-grid">
                        <!-- Agent 1 -->
                        <div class="agent-card">
                            <div class="agent-card-header">
                                <div class="agent-avatar" style="background: linear-gradient(135deg, #58a6ff, #388bfd);">TR</div>
                                <div class="agent-info">
                                    <div class="agent-name">Task Runner</div>
                                    <div class="agent-task">#TSK-148</div>
                                </div>
                                <span class="running-badge">
                                    <span class="running-dot"></span>
                                    Running
                                </span>
                            </div>
                            <div class="progress-section">
                                <div class="progress-header">
                                    <span class="progress-label">Progress</span>
                                    <span class="progress-percent">45%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%;"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Agent 2 -->
                        <div class="agent-card">
                            <div class="agent-card-header">
                                <div class="agent-avatar" style="background: linear-gradient(135deg, #a371f7, #8957e5);">CR</div>
                                <div class="agent-info">
                                    <div class="agent-name">Code Reviewer</div>
                                    <div class="agent-task">#TSK-145</div>
                                </div>
                                <span class="running-badge">
                                    <span class="running-dot"></span>
                                    Running
                                </span>
                            </div>
                            <div class="progress-section">
                                <div class="progress-header">
                                    <span class="progress-label">Progress</span>
                                    <span class="progress-percent">78%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill high" style="width: 78%;"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Agent 3 -->
                        <div class="agent-card">
                            <div class="agent-card-header">
                                <div class="agent-avatar" style="background: linear-gradient(135deg, #3fb950, #2ea043);">FB</div>
                                <div class="agent-info">
                                    <div class="agent-name">Feature Builder</div>
                                    <div class="agent-task">#WA-023</div>
                                </div>
                                <span class="running-badge">
                                    <span class="running-dot"></span>
                                    Running
                                </span>
                            </div>
                            <div class="progress-section">
                                <div class="progress-header">
                                    <span class="progress-label">Progress</span>
                                    <span class="progress-percent">12%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 12%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Queue Section -->
                <section class="queue-section">
                    <div class="section-header">
                        <h2 class="section-title">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M6 2a.5.5 0 0 1 .47.33L10 12.036l1.53-4.208A.5.5 0 0 1 12 7.5h3.5a.5.5 0 0 1 0 1h-3.15l-1.88 5.17a.5.5 0 0 1-.94 0L6 3.964 4.47 8.171A.5.5 0 0 1 4 8.5H.5a.5.5 0 0 1 0-1h3.15l1.88-5.17A.5.5 0 0 1 6 2Z"/>
                            </svg>
                            Waiting in Queue
                        </h2>
                        <span class="section-count">4 tasks</span>
                    </div>

                    <div class="queue-list">
                        <!-- Position 1 - Your Task (Highlighted) -->
                        <div class="queue-item highlighted">
                            <div class="position-badge">1</div>
                            <div class="queue-item-content">
                                <div class="queue-item-header">
                                    <span class="task-id">#TSK-156</span>
                                    <span class="task-title">Fix stream reconnection on network timeout</span>
                                </div>
                                <div class="queue-item-meta">
                                    <span class="priority-badge high">High</span>
                                    <span class="wait-time">Est. wait: <span>~3 minutes</span></span>
                                    <span class="requested-by">Requested by: <span>You</span></span>
                                </div>
                            </div>
                            <div class="queue-item-right">
                                <span class="next-up-badge">
                                    <svg viewBox="0 0 16 16" fill="currentColor">
                                        <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                                    </svg>
                                    Next up
                                </span>
                                <div class="loading-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                        </div>

                        <!-- Position 2 -->
                        <div class="queue-item">
                            <div class="position-badge">2</div>
                            <div class="queue-item-content">
                                <div class="queue-item-header">
                                    <span class="task-id">#TSK-151</span>
                                    <span class="task-title">Implement webhook notifications</span>
                                </div>
                                <div class="queue-item-meta">
                                    <span class="priority-badge medium">Medium</span>
                                    <span class="wait-time">Est. wait: <span>~8 minutes</span></span>
                                </div>
                            </div>
                        </div>

                        <!-- Position 3 -->
                        <div class="queue-item">
                            <div class="position-badge">3</div>
                            <div class="queue-item-content">
                                <div class="queue-item-header">
                                    <span class="task-id">#TSK-142</span>
                                    <span class="task-title">Add agent performance metrics</span>
                                </div>
                                <div class="queue-item-meta">
                                    <span class="priority-badge low">Low</span>
                                    <span class="wait-time">Est. wait: <span>~15 minutes</span></span>
                                </div>
                            </div>
                        </div>

                        <!-- Position 4 -->
                        <div class="queue-item">
                            <div class="position-badge">4</div>
                            <div class="queue-item-content">
                                <div class="queue-item-header">
                                    <span class="task-id">#DC-018</span>
                                    <span class="task-title">Batch data processing</span>
                                </div>
                                <div class="queue-item-meta">
                                    <span class="priority-badge low">Low</span>
                                    <span class="wait-time">Est. wait: <span>~20 minutes</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Sidebar -->
            <aside class="sidebar">
                <!-- Queue Info Panel -->
                <div class="info-panel">
                    <h3>Queue Statistics</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-label">Average wait time</span>
                            <span class="stat-value">5.2 min</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Tasks completed today</span>
                            <span class="stat-value highlight">47</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Current throughput</span>
                            <span class="stat-value">8.3 tasks/hr</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Queue length</span>
                            <span class="stat-value">4 tasks</span>
                        </div>
                    </div>
                    <button class="jump-btn">
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor" style="display: inline; vertical-align: middle; margin-right: 6px;">
                            <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z" transform="rotate(180, 8, 8)"/>
                        </svg>
                        Jump to Front
                    </button>
                </div>

                <!-- Design Notes Panel -->
                <div class="design-notes">
                    <h3>
                        <svg viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                        </svg>
                        Design Notes
                    </h3>
                    <div class="notes-list">
                        <div class="note-item">
                            <div class="note-title">Priority-Based Queue Ordering</div>
                            <div class="note-text">
                                Tasks are sorted by priority level (High > Medium > Low), then by submission timestamp within each priority tier. Uses a <code>priority_score</code> algorithm.
                            </div>
                        </div>
                        <div class="note-item">
                            <div class="note-title">Position Indicators</div>
                            <div class="note-text">
                                Queue positions are dynamically calculated. User's own task is highlighted with accent border and "Next up" badge when in position 1.
                            </div>
                        </div>
                        <div class="note-item">
                            <div class="note-title">Wait Time Estimation</div>
                            <div class="note-text">
                                Calculated using: <code>avg_task_duration * position / active_agents</code>. Updates every 30 seconds based on current throughput metrics.
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
        </div>
    </div>
</body>
</html>
